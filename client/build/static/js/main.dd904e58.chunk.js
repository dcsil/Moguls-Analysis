(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{310:function(e,t,n){},354:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(18),c=n.n(r),s=(n(310),n(7)),l=i.a.createContext(),o="SUCCESS",d="FAILURE",u="LOADING",p="CLEAR_LOADING",j="CLEAR_MSG",g="LOGIN_SUCCESS",b="LOGIN_FAILURE",h="LOGOUT",x=n(15),m={isAuth:!1,username:"",token:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(x.a)(Object(x.a)({},e),{},{isAuth:!0,username:t.username,token:t.token});case b:case h:return Object(x.a)(Object(x.a)({},e),{},{isAuth:!1,username:"",token:""});default:return e}},O={loading:!1,success:!0,msg:"",msgDisplay:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return Object(x.a)(Object(x.a)({},e),{},{success:!0,loading:!1,msg:t.msg,msgDisplay:!0});case d:return Object(x.a)(Object(x.a)({},e),{},{success:!1,loading:!1,msg:t.msg,msgDisplay:!0});case u:return Object(x.a)(Object(x.a)({},e),{},{loading:!0});case p:return Object(x.a)(Object(x.a)({},e),{},{loading:!1});case j:return Object(x.a)(Object(x.a)({},e),{},{msgDisplay:!1,msg:""});default:return e}},y=n(43),k=n(392),w=n(394),S=n(187),C=n(277),A=n.n(C),N=n(76),D=n(94),L=n(189),T=n(143),R=n(93),F=n(188),P=n(190),I=n(2),B=function(e){return Object(I.jsx)("img",Object(x.a)({alt:"Logo",src:"/static/logo.png",width:e.size+"px",style:{margin:"10px"}},e))},W=n(393),z=n(391),H=Object(y.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1,marginLeft:e.spacing(1)},button:{textTransform:"none"}}}));function U(){var e=H(),t=Object(a.useContext)(l),n=i.a.useState(!1),r=Object(s.a)(n,2),c=r[0],o=r[1],d=i.a.useRef(null),u=Object(z.a)(["loginInfo"]),p=Object(s.a)(u,2),j=(p[0],p[1]),g=function(e){d.current&&d.current.contains(e.target)||o(!1)};function b(e){"Tab"===e.key&&(e.preventDefault(),o(!1))}var h=i.a.useRef(c);function m(e){e.preventDefault(),t.handleSuccess("You have successfully logged out."),t.handleUserLogout(),j("loginInfo",{})}return i.a.useEffect((function(){!0===h.current&&!1===c&&d.current.focus(),h.current=c}),[c]),Object(I.jsx)("div",{className:e.root,children:Object(I.jsxs)(k.a,{position:"fixed",children:[t.loadingState&&Object(I.jsx)(W.a,{color:"secondary"}),Object(I.jsxs)(w.a,{children:[Object(I.jsx)(B,{size:"50"}),Object(I.jsx)(S.a,{variant:"h3",className:e.title,children:"Moguls Analysis"}),t.authState&&Object(I.jsxs)("div",{children:[Object(I.jsxs)(D.a,{ref:d,"aria-controls":c?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){o((function(e){return!e}))},color:"inherit",className:e.button,children:[Object(I.jsx)(A.a,{})," ",Object(I.jsx)(S.a,{variant:"h5",className:e.title,children:t.usernameState})]}),Object(I.jsx)(F.a,{open:c,anchorEl:d.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,n=e.placement;return Object(I.jsx)(T.a,Object(x.a)(Object(x.a)({},t),{},{style:{transformOrigin:"bottom"===n?"center top":"center bottom"},children:Object(I.jsx)(R.a,{children:Object(I.jsx)(L.a,{onClickAway:g,children:Object(I.jsx)(P.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:b,children:Object(I.jsx)(N.a,{onClick:m,children:"Logout"})})})})}))}})]})]})]})})}var _=n(25),G=n.n(_),E=n(42),M=n(289),q=n(280),Y=n.n(q),K=n(281),J=n.n(K),Z=n(63),Q=n.n(Z),V=Object(y.a)((function(e){return{root:{flexGrow:1,textAlign:"center"},paper:{padding:e.spacing(2),textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:e.palette.text.secondary,minHeight:"400px",marginTop:"20px"},button:{marginTop:"20px"}}}));var X=function(e){var t=V(),n=Object(a.useContext)(l),i=Object(a.useState)(null),r=Object(s.a)(i,2),c=r[0],o=r[1],d=Object(a.useState)(null),u=Object(s.a)(d,2),p=u[0],j=u[1],g=Object(a.useState)(!1),b=Object(s.a)(g,2),h=b[0],m=b[1],f=Object(M.a)({accept:"video/*",onDrop:function(e){o(e[0]),j(URL.createObjectURL(e[0]))}}),O=f.getRootProps,v=f.getInputProps;return Object(I.jsxs)("div",{className:t.root,children:[Object(I.jsxs)(R.a,Object(x.a)(Object(x.a)({className:t.paper},O()),{},{children:[Object(I.jsx)("input",Object(x.a)(Object(x.a)({},v()),{},{name:"file",type:"file"})),c?h?Object(I.jsx)("img",{src:"/static/result.png",alt:"Pose estimation with annotation"}):Object(I.jsx)(Y.a,{url:p,width:"100%",height:"100%",controls:!0}):Object(I.jsxs)("div",{children:[Object(I.jsx)(J.a,{fontSize:"large"}),Object(I.jsx)("h2",{style:{margin:"20px"},children:"Drag and drop a video file here, or click to select a video"}),Object(I.jsx)("h3",{children:"(Supported video extensions: mp4)"})]})]})),h?Object(I.jsx)(D.a,{variant:"contained",color:"secondary",size:"large",fullWidth:!0,style:{marginTop:"20px"},onClick:function(){m(!1),o(null),j(null)},children:"Clear Uploaded File"}):Object(I.jsx)(D.a,{variant:"contained",color:"secondary",size:"large",fullWidth:!0,style:{marginTop:"20px"},disabled:!c,onClick:function(){!function(){var t=Object(E.a)(G.a.mark((function t(){var a,i;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.handleLoading(),(a=new FormData).append("file",c),a.append("filename",c.name),console.log(a.get("file")),console.log(a.get("filename")),t.next=8,r=a,s=n.tokenState,Q.a.post("/videoUpload",r,{headers:{Accept:"application/json, video/*, */*","Content-Type":"multipart/form-data"},params:{token:s}}).catch((function(e){return e.response}));case 8:i=t.sent,n.handleClearLoading(),200===i.status?(n.handleSuccess("Metrics are successfully extracted."),e.onClick(Object(x.a)(Object(x.a)({},i.data),{},{videoName:c.name})),m(!0)):n.handleFailure(i.data);case 11:case"end":return t.stop()}var r,s}),t)})));return function(){return t.apply(this,arguments)}}()()},children:"Start Analyze"})]})},$=n(294),ee=n(282),te=n.n(ee),ne=n(395),ae=n(400),ie=n(398),re=n(399),ce=n(397),se=Object(y.a)((function(e){return{root:{flexGrow:1,textAlign:"center"},paper:{padding:e.spacing(2),textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",color:e.palette.text.secondary,minHeight:"400px",marginTop:"20px"},button:{marginTop:"20px"}}})),le=Object(a.forwardRef)((function(e,t){var n=se(),r=Object(a.useState)({}),c=Object(s.a)(r,2),l=c[0],o=c[1],d=Object(a.useState)(""),u=Object(s.a)(d,2),p=u[0],j=u[1],g=Object(a.useState)(null),b=Object(s.a)(g,2),h=b[0],m=b[1],f=Object(a.useState)(""),O=Object(s.a)(f,2),v=O[0],y=O[1],k=i.a.useState(!1),w=Object(s.a)(k,2),S=w[0],C=w[1];Object(a.useImperativeHandle)(t,(function(){return{displayResult:function(e){o(e)}}}));var A=function(){C(!1)},N=function(e){var t=e.target,n=t.name,a=t.value;"athlete"===n?j(a):"date"===n?m(a):y(a)};return Object(I.jsxs)("div",{children:[Object(I.jsx)(R.a,{className:n.paper,children:l&&0===Object.keys(l).length?Object(I.jsxs)("div",{children:[Object(I.jsx)(te.a,{fontSize:"large"}),Object(I.jsx)("h2",{style:{marginTop:"20px"},children:"Upload a video from left"}),Object(I.jsx)("h2",{children:"&"}),Object(I.jsx)("h2",{children:'Click "START ANALYZE"'})]}):Object(I.jsxs)("div",{children:[Object(I.jsxs)("h3",{style:{marginBottom:"20px"},children:["File name: ",l.videoName]}),Object(I.jsxs)("h3",{style:{marginBottom:"10px"},children:["Angle between knees and hip: ",l.kneeHipAngle]}),Object(I.jsxs)("h3",{style:{marginBottom:"10px"},children:["Angle between hip and chest: ",l.hipChestAngle]}),Object(I.jsxs)("h3",{style:{marginBottom:"10px"},children:["Angle between chest and arms: ",l.chestArmAngle]}),Object(I.jsxs)("h3",{style:{marginBottom:"10px"},children:["Angle difference between arms: ",l.armAngleDiff]}),Object(I.jsxs)("h3",{style:{marginBottom:"10px"},children:["Angle difference between knees: ",l.kneeAngleDiff]})]})}),Object(I.jsx)(D.a,{variant:"contained",color:"secondary",size:"large",fullWidth:!0,style:{marginTop:"20px"},disabled:l&&0===Object.keys(l).length,onClick:function(){C(!0)},children:"Save Results"}),Object(I.jsxs)(ne.a,{open:S,onClose:A,"aria-labelledby":"form-dialog-title",children:[Object(I.jsx)(ce.a,{id:"form-dialog-title",children:Object(I.jsx)("h3",{children:"Data Information"})}),Object(I.jsxs)("form",{onSubmit:function(t){t.preventDefault(),A();var n=Object(x.a)(Object(x.a)({},l),{},{name:p,date:h?h.replace("-","/").replace("-","/"):"",trick:v});e.handleNewResultSave(n),j(""),m(""),y("")},children:[Object(I.jsxs)(ie.a,{children:[Object(I.jsx)(re.a,{children:"Please fill in the following data information before saving:"}),Object(I.jsx)($.a,{autoFocus:!0,margin:"dense",id:"athlete",name:"athlete",label:"Athlete Name",onChange:N,value:p,fullWidth:!0}),Object(I.jsx)($.a,{id:"date",name:"date",label:"Date",type:"date",className:n.textField,InputLabelProps:{shrink:!0},onChange:N}),Object(I.jsx)($.a,{autoFocus:!0,margin:"dense",id:"trick",name:"trick",label:"Trick Name",value:v,onChange:N,fullWidth:!0})]}),Object(I.jsxs)(ae.a,{children:[Object(I.jsx)(D.a,{onClick:A,color:"secondary",children:"Cancel"}),Object(I.jsx)(D.a,{color:"primary",type:"submit",children:"Save"})]})]})]})]})})),oe=n(409),de=n(408),ue=n(28),pe=n(406),je=n(407),ge=n(402),be=n(405),he=n(375),xe=n(404),me=n(298),fe=n(367),Oe=n(368),ve=n(180),ye=[{field:"id",headerName:"ID",flex:1},{field:"name",headerName:"Athlete Name",flex:2},{field:"date",headerName:"Date",flex:1.5},{field:"trick",headerName:"Trick",flex:1.5},{field:"kneeHipAngle",type:"number",headerName:"Knees-Hip Angle",flex:1.5},{field:"hipChestAngle",type:"number",headerName:"Hip-chest Angle",flex:1.5},{field:"chestArmAngle",type:"number",headerName:"Chest-Arms Angle",flex:1.5},{field:"armAngleDiff",type:"number",headerName:"Arms Angle Difference",flex:1.5},{field:"kneeAngleDiff",type:"number",headerName:"Knees Angle Difference",flex:1.5}],ke={items:[]};function we(e){return e.map((function(e){return{id:e._id,name:e.name,date:e.date,trick:e.trick,kneeHipAngle:e.kneeHipAngle,hipChestAngle:e.hipChestAngle,chestArmAngle:e.chestArmAngle,armAngleDiff:e.armAngleDiff,kneeAngleDiff:e.kneeAngleDiff}}))}var Se=Object(a.forwardRef)((function(e,t){var n=Object(a.useState)(we(e.initialRows)),i=Object(s.a)(n,2),r=i[0],c=i[1];return Object(a.useImperativeHandle)(t,(function(){return{updateRows:function(e){var t=we(e);c(t)}}})),Object(I.jsxs)("div",{style:Object(x.a)({},e.style),children:[Object(I.jsx)(R.a,{style:{marginTop:"30px"},children:Object(I.jsx)("div",{style:{height:500,width:"100%"},children:Object(I.jsx)(ve.a,{columns:ye,rows:r,filterModel:ke,components:{Toolbar:ve.b}})})}),Object(I.jsx)(D.a,{variant:"contained",color:"secondary",size:"large",fullWidth:!0,style:{marginTop:"20px",marginBottom:"40px"},onClick:e.exitFilter,children:"Exit Filtering Mode"})]})})),Ce=n(49),Ae=n(4),Ne=n(13),De=n(403),Le=n(416),Te=n(77),Re=n(192),Fe=n(285),Pe=n.n(Fe),Ie=n(286),Be=n.n(Ie);function We(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function ze(e,t){return"desc"===e?function(e,n){return We(e,n,t)}:function(e,n){return-We(e,n,t)}}function He(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var Ue=[{id:"_id",numeric:!1,disablePadding:!0,label:"ID",tip:"Record ID"},{id:"name",numeric:!1,disablePadding:!1,label:"Athlete Name"},{id:"date",numeric:!1,disablePadding:!1,label:"Date"},{id:"trick",numeric:!1,disablePadding:!1,label:"Trick"},{id:"kneeHipAngle",numeric:!0,disablePadding:!1,label:"Knees-Hip Angle",tip:"Angle between knees and hip relative to 180\xb0 (a value less than 0 indicates an angle less than 180\xb0)"},{id:"hipChestAngle",numeric:!0,disablePadding:!1,label:"Hip-chest Angle",tip:"Angle between hip and chest relative to 180\xb0 (a value less than 0 indicates an angle less than 180\xb0)"},{id:"chestArmAngle",numeric:!0,disablePadding:!1,label:"Chest-Arms Angle",tip:"Angle between chest and arm relative to 180\xb0 (a value less than 0 indicates an angle less than 180\xb0) "},{id:"armAngleDiff",numeric:!0,disablePadding:!1,label:"Arms Angle Difference",tip:"Angle difference between two arms (the value is absolute difference so greater than or equal to 0)"},{id:"kneeAngleDiff",numeric:!0,disablePadding:!1,label:"Knees Angle Difference",tip:"Angle difference between two knees (the value is absolute difference so greater than or equal to 0)"}];function _e(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,i=e.orderBy,r=e.numSelected,c=e.rowCount,s=e.onRequestSort;return Object(I.jsx)(De.a,{children:Object(I.jsxs)(xe.a,{children:[Object(I.jsx)(ge.a,{padding:"checkbox",children:Object(I.jsx)(me.a,{indeterminate:r>0&&r<c,checked:c>0&&r===c,onChange:n,inputProps:{"aria-label":"select all"}})}),Ue.map((function(e){return Object(I.jsx)(ge.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:i===e.id&&a,children:Object(I.jsxs)(Le.a,{active:i===e.id,direction:i===e.id?a:"asc",onClick:(n=e.id,function(e){s(e,n)}),children:[Object(I.jsx)(Re.a,{title:e.tip||"",placement:"top",children:Object(I.jsx)("div",{children:e.label})}),i===e.id?Object(I.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var n}))]})})}var Ge=Object(y.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1),marginTop:"30px"},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ne.i)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Ee=function(e){var t=Ge(),n=e.numSelected;return Object(I.jsxs)(w.a,{className:Object(Ae.a)(t.root,Object(Ce.a)({},t.highlight,n>0)),children:[n>0?Object(I.jsxs)(S.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[n," selected"]}):Object(I.jsx)(S.a,{className:t.title,variant:"h4",id:"tableTitle",component:"div",children:"Saved Data"}),n>0?Object(I.jsx)(Re.a,{title:"Delete",children:Object(I.jsx)(Te.a,{"aria-label":"delete",onClick:e.handleDelete,children:Object(I.jsx)(Pe.a,{})})}):Object(I.jsx)(Re.a,{title:"Enter Filtering Mode",children:Object(I.jsx)(Te.a,{"aria-label":"filter list",onClick:e.handleOpenFilter,children:Object(I.jsx)(Be.a,{})})})]})},Me=Object(y.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}})),qe=Object(a.forwardRef)((function(e,t){var n=Me(),i=Object(a.useContext)(l),r=Object(a.useRef)(),c=Object(a.useState)("desc"),o=Object(s.a)(c,2),d=o[0],u=o[1],p=Object(a.useState)("date"),j=Object(s.a)(p,2),g=j[0],b=j[1],h=Object(a.useState)([]),x=Object(s.a)(h,2),m=x[0],f=x[1],O=Object(a.useState)(0),v=Object(s.a)(O,2),y=v[0],k=v[1],w=Object(a.useState)(!1),S=Object(s.a)(w,2),C=S[0],A=S[1],N=Object(a.useState)(5),D=Object(s.a)(N,2),L=D[0],T=D[1],F=Object(a.useState)([]),P=Object(s.a)(F,2),B=P[0],W=P[1],z=Object(a.useState)(!0),H=Object(s.a)(z,2),U=H[0],_=H[1];Object(a.useImperativeHandle)(t,(function(){return{addSavedResult:function(e){W((function(t){var n=[].concat(Object(ue.a)(t),[e]);return console.log(n),r.current.updateRows(n),n}))}}})),Object(a.useEffect)((function(){(function(){var e=Object(E.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.handleLoading(),console.log(i.tokenState),e.next=4,n=i.tokenState,Q.a.get("/getAllData",{headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},params:{token:n}}).catch((function(e){return e.response}));case 4:t=e.sent,i.handleClearLoading(),200===t.status?(W(Object.values(t.data)),console.log(t.data)):i.handleFailure(t.data);case 7:case"end":return e.stop()}var n}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var M=function(){var e=Object(E.a)(G.a.mark((function e(t){var n,a,c,s,l;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=B.filter((function(e){return m.includes(e._id)})),i.handleLoading(),a=0;case 3:if(!(a<n.length)){e.next=14;break}return c=n[a]._id,e.next=7,t=c,o=i.tokenState,Q.a.delete("/deleteData/"+t,{headers:{"Content-Type":"application/json"},params:{token:o}}).catch((function(e){return e.response}));case 7:if(200===(s=e.sent).status){e.next=11;break}return i.handleFailure(s.data),e.abrupt("return");case 11:a++,e.next=3;break;case 14:i.handleClearLoading(),i.handleSuccess("Successfully deleted selected record(s)."),l=B.filter((function(e){return!m.includes(e._id)})),W(l),r.current.updateRows(l),f([]);case 20:case"end":return e.stop()}var t,o}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){_(!1)},Y=function(){_(!0)},K=L-Math.min(L,B.length-y*L);return U?Object(I.jsxs)("div",{className:n.root,children:[Object(I.jsxs)(R.a,{className:n.paper,children:[Object(I.jsx)(Ee,{numSelected:m.length,handleDelete:M,handleOpenFilter:q}),Object(I.jsx)(be.a,{children:Object(I.jsxs)(pe.a,{className:n.table,"aria-labelledby":"tableTitle",size:C?"small":"medium","aria-label":"enhanced table",children:[Object(I.jsx)(_e,{classes:n,numSelected:m.length,order:d,orderBy:g,onSelectAllClick:function(e){if(e.target.checked){var t=B.map((function(e){return e._id}));f(t)}else f([])},onDeleteClick:M,onOpenFilter:q,onRequestSort:function(e,t){u(g===t&&"asc"===d?"desc":"asc"),b(t)},rowCount:B.length}),Object(I.jsxs)(je.a,{children:[He(B,ze(d,g)).slice(y*L,y*L+L).map((function(e,t){var n,a=(n=e._id,-1!==m.indexOf(n)),i="enhanced-table-checkbox-".concat(t);return Object(I.jsxs)(xe.a,{hover:!0,onClick:function(t){return function(e,t){var n=m.indexOf(t),a=[];-1===n?a=a.concat(m,t):0===n?a=a.concat(m.slice(1)):n===m.length-1?a=a.concat(m.slice(0,-1)):n>0&&(a=a.concat(m.slice(0,n),m.slice(n+1))),f(a)}(0,e._id)},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[Object(I.jsx)(ge.a,{padding:"checkbox",children:Object(I.jsx)(me.a,{checked:a,inputProps:{"aria-labelledby":i}})}),Object(I.jsx)(ge.a,{component:"th",id:i,scope:"row",padding:"none",children:e._id}),Object(I.jsx)(ge.a,{align:"left",children:e.name}),Object(I.jsx)(ge.a,{align:"left",padding:"none",children:e.date}),Object(I.jsx)(ge.a,{align:"left",children:e.trick}),Object(I.jsx)(ge.a,{align:"right",children:e.kneeHipAngle}),Object(I.jsx)(ge.a,{align:"right",children:e.hipChestAngle}),Object(I.jsx)(ge.a,{align:"right",children:e.chestArmAngle}),Object(I.jsx)(ge.a,{align:"right",children:e.armAngleDiff}),Object(I.jsx)(ge.a,{align:"right",children:e.kneeAngleDiff})]},e._id)})),K>0&&Object(I.jsx)(xe.a,{style:{height:(C?33:53)*K},children:Object(I.jsx)(ge.a,{colSpan:10})})]})]})}),Object(I.jsx)(he.a,{rowsPerPageOptions:[5,10,25],component:"div",count:B.length,rowsPerPage:L,page:y,onChangePage:function(e,t){k(t)},onChangeRowsPerPage:function(e){T(parseInt(e.target.value,10)),k(0)}})]}),Object(I.jsx)(fe.a,{control:Object(I.jsx)(Oe.a,{checked:C,onChange:function(e){A(e.target.checked)}}),label:"Dense padding",style:{marginBottom:"20px"}}),Object(I.jsx)(Se,{ref:r,initialRows:B,exitFilter:Y,style:{display:"none"}})]}):Object(I.jsx)(Se,{ref:r,initialRows:B,exitFilter:Y})})),Ye=Object(y.a)((function(e){return{root:{marginTop:e.spacing(8),flexGrow:1}}}));function Ke(){var e=Ye(),t=Object(a.useContext)(l),n=Object(a.useState)({}),i=Object(s.a)(n,2),r=(i[0],i[1]),c=Object(a.useRef)(),o=Object(a.useRef)();return Object(I.jsxs)(de.a,{maxWidth:"lg",className:e.root,children:[Object(I.jsxs)(oe.a,{container:!0,spacing:3,children:[Object(I.jsx)(oe.a,{item:!0,xs:12,sm:6,children:Object(I.jsx)(X,{onClick:function(e){r(e),c.current.displayResult(e)}})}),Object(I.jsx)(oe.a,{item:!0,xs:12,sm:6,children:Object(I.jsx)(le,{ref:c,handleNewResultSave:function(e){(function(){var n=Object(E.a)(G.a.mark((function n(){var a;return G.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.handleLoading(),console.log("current token: "+t.tokenState),n.next=4,i=e,r=t.tokenState,Q.a.post("/addData",i,{headers:{"Content-Type":"application/json"},params:{token:r}}).catch((function(e){return e.response}));case 4:a=n.sent,t.handleClearLoading(),200===a.status?(t.handleSuccess("Data is successfully saved."),console.log(a.data),e=Object(x.a)(Object(x.a)({},e),{},{_id:a.data}),o.current.addSavedResult(e)):t.handleFailure(a.data);case 7:case"end":return n.stop()}var i,r}),n)})));return function(){return n.apply(this,arguments)}})()()}})})]}),Object(I.jsx)(qe,{ref:o})]})}var Je=Object(y.a)((function(e){return{outerContainer:{marginTop:e.spacing(12)},paper:{padding:e.spacing(3)},image:{marginTop:e.spacing(8)},signup:{textAlign:"right",marginTop:e.spacing(2)},signupButton:{marginLeft:e.spacing(1)},h2:{marginTop:e.spacing(5)},h4:{marginTop:e.spacing(1),marginBottom:e.spacing(5),color:"grey"},loginLabel:{marginTop:e.spacing(5)},textField:{marginTop:e.spacing(1)},loginButton:{marginTop:e.spacing(10),marginBottom:e.spacing(15)}}}));function Ze(e){var t=Je(),n=Object(a.useContext)(l),i=Object(a.useState)(""),r=Object(s.a)(i,2),c=r[0],o=r[1],d=Object(a.useState)(""),u=Object(s.a)(d,2),p=u[0],j=u[1],g=Object(z.a)(["loginInfo"]),b=Object(s.a)(g,2),h=(b[0],b[1]),x=function(e){var t=e.target.name,n=e.target.value;"username"===t?o(n):j(n)};return Object(I.jsx)("div",{className:t.root,children:Object(I.jsx)(de.a,{maxWidth:"lg",className:t.outerContainer,children:Object(I.jsx)(R.a,{className:t.paper,children:Object(I.jsxs)(oe.a,{container:!0,spacing:10,children:[Object(I.jsx)(oe.a,{item:!0,xs:5,children:Object(I.jsx)("img",{src:"/static/login_img.svg",alt:"Login",className:t.image})}),Object(I.jsxs)(oe.a,{item:!0,xs:7,className:t.loginContainer,children:[Object(I.jsx)("div",{className:t.signup,children:Object(I.jsxs)(S.a,{variant:"h6",className:t.h2,children:["Don't have an account?",Object(I.jsx)(D.a,{variant:"outlined",color:"secondary",size:"small",title:"signupButton",className:t.signupButton,onClick:e.switchRegister,children:"Sign up"})]})}),Object(I.jsx)(S.a,{variant:"h2",className:t.h2,children:"Welcome"}),Object(I.jsx)(S.a,{variant:"h4",className:t.h4,children:"Login your account"}),Object(I.jsxs)("form",{autoComplete:"off",children:[Object(I.jsx)(S.a,{variant:"h5",className:t.loginLabel,children:"Username"}),Object(I.jsx)($.a,{required:!0,id:"username",type:"email",label:"Your email",variant:"outlined",name:"username",value:c,fullWidth:!0,className:t.textField,onChange:x,inputProps:{"data-testid":"usernameTextField"}}),Object(I.jsx)(S.a,{variant:"h5",className:t.loginLabel,children:"Password"}),Object(I.jsx)($.a,{required:!0,id:"password",type:"password",label:"Your password",name:"password",value:p,variant:"outlined",fullWidth:!0,className:t.textField,onChange:x,inputProps:{"data-testid":"passwordTextField"}}),Object(I.jsx)(D.a,{variant:"contained",color:"secondary",type:"submit",size:"large",className:t.loginButton,onClick:function(e){e.preventDefault(),function(){var e=Object(E.a)(G.a.mark((function e(){var t,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.handleLoading(),e.next=3,i={username:c,password:p},Q.a.post("/login",i,{headers:{"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 3:t=e.sent,n.handleClearLoading(),200===t.status?(n.handleSuccess("You have successfully signed in."),a={username:c,token:t.data.token},n.handleUserLogin(a),h("loginInfo",a)):n.handleFailure(t.data);case 6:case"end":return e.stop()}var i}),e)})));return function(){return e.apply(this,arguments)}}()()},title:"loginButton",children:"LOGIN"})]})]})]})})})})}var Qe=Object(y.a)((function(e){return{outerContainer:{marginTop:e.spacing(12)},paper:{padding:e.spacing(3)},image:{marginTop:e.spacing(8)},login:{textAlign:"right",marginTop:e.spacing(2)},loginButton:{marginLeft:e.spacing(1)},h2:{marginTop:e.spacing(5)},h4:{marginTop:e.spacing(1),marginBottom:e.spacing(5),color:"grey"},signupLabel:{marginTop:e.spacing(5)},textField:{marginTop:e.spacing(1)},signupButton:{marginTop:e.spacing(5),marginBottom:e.spacing(10)}}}));function Ve(e){var t=Qe(),n=Object(a.useContext)(l),i=Object(a.useState)(""),r=Object(s.a)(i,2),c=r[0],o=r[1],d=Object(a.useState)(""),u=Object(s.a)(d,2),p=u[0],j=u[1],g=Object(a.useState)(""),b=Object(s.a)(g,2),h=b[0],x=b[1],m=function(e){var t=e.target.name,n=e.target.value;"username"===t?o(n):"password"===t?j(n):x(n)};return Object(I.jsx)("div",{className:t.root,children:Object(I.jsx)(de.a,{maxWidth:"lg",className:t.outerContainer,children:Object(I.jsx)(R.a,{className:t.paper,children:Object(I.jsxs)(oe.a,{container:!0,spacing:10,children:[Object(I.jsx)(oe.a,{item:!0,xs:5,children:Object(I.jsx)("img",{src:"/static/signup_img.svg",alt:"Login",className:t.image})}),Object(I.jsxs)(oe.a,{item:!0,xs:7,className:t.loginContainer,children:[Object(I.jsx)("div",{className:t.login,children:Object(I.jsxs)(S.a,{variant:"h6",className:t.h2,children:["Already have an account?",Object(I.jsx)(D.a,{variant:"outlined",color:"secondary",size:"small",className:t.loginButton,onClick:e.switchLogin,title:"loginButton",children:"Login"})]})}),Object(I.jsx)(S.a,{variant:"h2",className:t.h2,children:"Welcome"}),Object(I.jsx)(S.a,{variant:"h4",className:t.h4,children:"Register your account"}),Object(I.jsxs)("form",{autoComplete:"off",children:[Object(I.jsx)(S.a,{variant:"h5",className:t.signupLabel,children:"Username"}),Object(I.jsx)($.a,{required:!0,id:"username",type:"email",label:"Your email",variant:"outlined",name:"username",value:c,onChange:m,fullWidth:!0,className:t.textField,inputProps:{"data-testid":"usernameTextField"}}),Object(I.jsx)(S.a,{variant:"h5",className:t.signupLabel,children:"Password"}),Object(I.jsx)($.a,{required:!0,id:"password",type:"password",label:"Your password",variant:"outlined",name:"password",value:p,onChange:m,fullWidth:!0,className:t.textField,inputProps:{"data-testid":"passwordTextField"}}),Object(I.jsx)(S.a,{variant:"h5",className:t.signupLabel,children:"Confirm Password"}),Object(I.jsx)($.a,{required:!0,id:"passwordConfirmed",label:"Confirm your password",type:"password",variant:"outlined",name:"confirmedPassword",value:h,onChange:m,fullWidth:!0,className:t.textField}),Object(I.jsx)(D.a,{variant:"contained",color:"secondary",type:"submit",size:"large",className:t.signupButton,onClick:function(t){t.preventDefault(),p===h?function(){var t=Object(E.a)(G.a.mark((function t(){var a;return G.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.handleLoading(),t.next=3,i={username:c,password:p},Q.a.post("/register",i,{headers:{"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 3:a=t.sent,n.handleClearLoading(),200===a.status?(n.handleSuccess("Your account is successfully registered."),e.switchLogin()):n.handleFailure(a.data);case 6:case"end":return t.stop()}var i}),t)})));return function(){return t.apply(this,arguments)}}()():n.handleFailure("Please make sure your passwords match.")},title:"signupButton",children:"SIGN UP"})]})]})]})})})})}function Xe(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),n=t[0],i=t[1];return Object(I.jsx)("div",{children:n?Object(I.jsx)(Ze,{switchRegister:function(){i(!1)}}):Object(I.jsx)(Ve,{switchLogin:function(){i(!0)}})})}var $e=n(410),et=n(415);function tt(e){return Object(I.jsx)(et.a,Object(x.a)({elevation:6,variant:"filled"},e))}function nt(){var e=Object(a.useContext)(l),t=function(t,n){"clickaway"!==n&&e.handleClearMessage()};return e.messageDisplayState&&Object(I.jsx)($e.a,{open:e.messageDisplayState,autoHideDuration:6e3,onClose:t,children:Object(I.jsx)(tt,{onClose:t,severity:e.successState?"success":"error",children:e.messageState})})}var at=function(){var e=Object(a.useContext)(l),t=Object(z.a)(["loginInfo"]),n=Object(s.a)(t,2),i=n[0];return n[1],Object(a.useEffect)((function(){i.loginInfo&&i.loginInfo.token&&e.handleUserLogin({username:i.loginInfo.username,token:i.loginInfo.token})}),[]),Object(I.jsx)("div",{children:e.authState?Object(I.jsxs)("div",{children:[Object(I.jsx)(U,{}),Object(I.jsx)(Ke,{}),Object(I.jsx)(nt,{})]}):Object(I.jsxs)("div",{children:[Object(I.jsx)(U,{}),Object(I.jsx)(nt,{}),Object(I.jsx)(Xe,{})]})})},it=n(411),rt=function(){var e=Object(a.useReducer)(f,m),t=Object(s.a)(e,2),n=t[0],i=t[1],r=function(e){i(function(e){return{type:g,username:e.username,token:e.token}}(e))},c=function(){i({type:h})},b=Object(a.useReducer)(v,O),x=Object(s.a)(b,2),y=x[0],k=x[1],w=function(e){k({type:o,msg:e})},S=function(e){k({type:d,success:!1,loading:!1,msg:e})},C=function(){k({type:u})},A=function(){k({type:p})},N=function(){k({type:j})};return Object(I.jsx)(it.a,{children:Object(I.jsx)(l.Provider,{value:{authState:n.isAuth,usernameState:n.username,tokenState:n.token,handleUserLogin:function(e){return r(e)},handleUserLogout:function(){return c()},loadingState:y.loading,successState:y.success,messageState:y.msg,messageDisplayState:y.msgDisplay,handleSuccess:function(e){return w(e)},handleFailure:function(e){return S(e)},handleLoading:function(){return C()},handleClearLoading:function(){return A()},handleClearMessage:function(){return N()}},children:Object(I.jsx)(at,{})})})},ct=n(414),st=n(288);ct.a({dsn:"https://39282864c55643a4816655855c7e35ee@o358880.ingest.sentry.io/5662565",integrations:[new st.a.BrowserTracing],tracesSampleRate:1});var lt=function(){return Object(I.jsx)("div",{children:Object(I.jsx)(rt,{})})},ot=n(401),dt=n(82),ut=n(41),pt=Object(dt.a)({palette:{background:{dark:"#F4F6F8",default:ut.a.common.white,paper:ut.a.common.white},primary:{main:"#112d4e"},secondary:{main:"#1a4578"},text:{primary:ut.a.blueGrey[900],secondary:ut.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),jt=n(272),gt=Object(y.a)((function(){return Object(jt.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),bt=function(){return gt(),null};c.a.render(Object(I.jsx)(i.a.StrictMode,{children:Object(I.jsxs)(ot.a,{theme:pt,children:[Object(I.jsx)(bt,{}),Object(I.jsx)(lt,{})]})}),document.getElementById("root"))}},[[354,1,2]]]);
//# sourceMappingURL=main.dd904e58.chunk.js.map